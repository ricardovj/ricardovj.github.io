<html>
  <head>
    <title>DataViz</title>
    <style type="text/css">
      #viz {
        width: 2400px;
        height: 1400px;
      }
    </style>
    <!-- <script src="https://rawgit.com/neo4j-contrib/neovis.js/master/dist/neovis.js"></script> -->
    <script src="neovis.js"></script>
  </head>
  <script>
    function draw() {
      var config = {
        encrypted: 'ENCRYPTION_ON',
        trust: 'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES',
        container_id: 'viz',
        server_url:
          'bolt://hobby-abcpnjmgjfpbgbkedicbadcl.dbs.graphenedb.com:24787',
        server_user: 'app73707340-lAdgkl',
        server_password: 'b.u75ch6LboeS5.cLNEG1UuRxVIxGgJ',
        labels: {
          GraphTopic: {
            caption: 'name',
            size: 'size',
            community: 'community'
          }
        },
        relationships: {
          SUBTOPIC_OF: {
            caption: false
          }
        },
        arrows: true,
        solver: 'barnesHut',
        physics: true,
        initial_cypher:
          'MATCH (t) WHERE t.id <> 251 OPTIONAL MATCH (t)-[r]-() RETURN t, r'

        // initial_cypher:
        //   'MATCH (p:GraphTopic)<-[:SUBTOPIC_OF*]-(c:GraphTopic)' +
        //   ' WHERE p.id in [251]' +
        //   ' WITH COLLECT (c) + p AS all UNWIND all as p' +
        //   ' MATCH (p)<-[r:SUBTOPIC_OF]-(c)' +
        //   ' RETURN p, r, c'
      }

      var viz = new NeoVis.default(config)
      viz.render()
    }
  </script>
  <body onload="draw()">
    <div id="viz"></div>
  </body>
</html>
